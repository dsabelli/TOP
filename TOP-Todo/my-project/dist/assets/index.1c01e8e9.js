import{v as k}from"./vendor.e5975509.js";const q=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))m(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&m(d)}).observe(document,{childList:!0,subtree:!0});function p(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function m(t){if(t.ep)return;t.ep=!0;const n=p(t);fetch(t.href,n)}};q();class C{constructor(r){this.name=r,this.complete=!1,this.id=null}}class E{constructor(r){this.name=r,this.id=null,this.todos=[]}}function x(){const a=document.querySelector(".new-list"),r=document.querySelector(".task-list"),p=document.querySelector(".create-list"),m=document.querySelector("#task-template"),t=document.querySelector(".new-task"),n=document.querySelector(".tasks"),d=document.querySelector(".create-task"),v=document.querySelector(".clear-tasks"),S=document.querySelector(".delete-list"),L=document.querySelector(".list-title"),g="task.lists";let i=JSON.parse(localStorage.getItem(g))||[],c="";v.addEventListener("click",()=>{const o=i.find(e=>e.id===c);o.todos=o.todos.filter(e=>!e.complete),f(),u()}),S.addEventListener("click",()=>{i.find(e=>e.id===c).todos.length===0&&(i=i.filter(e=>e.id!==c),L.textContent="",f(),h())}),r.addEventListener("click",o=>{let e=i.filter(s=>s.name===o.target.textContent);for(let s of e)c=s.id;L.textContent=o.target.textContent,u()}),p.addEventListener("click",o=>{o.preventDefault();const e=new E(a.value);if(e.id=k(),c=e.id,e.name!==""){for(let s of i)if(e.name===s.name){alert("Lists cannot have the same name");return}L.textContent=e.name,a.value="",i.push(e),f(),h(),u()}}),d.addEventListener("click",o=>{o.preventDefault();const e=new C(t.value);if(e.id=k(),e.name!==""){t.value="";for(let s of i)s.id===c&&s.todos.push(e);f(),u()}});function h(){r.textContent="";for(let o of i){const e=document.createElement("li");e.classList.add("cursor-pointer"),e.textContent=o.name,r.append(e)}}function u(){n.textContent="";for(let o of i)if(o.id===c)for(let e of o.todos){const s=document.importNode(m.content,!0),y=s.querySelector("input"),l=s.querySelector("label");y.id=e.id,y.checked=e.complete,l.htmlFor=e.id,l.classList.add("cursor-pointer"),e.complete?(l.classList.add("line-through"),l.classList.add("opacity-50")):(l.classList.remove("line-through"),l.classList.remove("opacity-50")),l.append(e.name),n.appendChild(s),y.addEventListener("change",()=>{e.complete=!e.complete,f(),l.classList.toggle("line-through"),l.classList.toggle("opacity-50")})}}function f(){localStorage.setItem(g,JSON.stringify(i))}h(),u()}x();
